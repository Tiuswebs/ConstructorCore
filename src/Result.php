<?php

namespace Tiuswebs\ConstructorCore;

use Tiuswebs\ConstructorCore\Inputs\Select;
use Tiuswebs\ConstructorCore\Inputs\Number;

class Result extends Component
{
	public $category = 'result';

	public function load()
    {
        $relation = $this->values->show;
        $sort = $this->values->sort;
        if($relation=='contents' && !is_bool($this->contents)) {
            $this->elements = $this->contents->$sort()->paginate($this->values->limit);
        } else if ($relation=='banners') {
            $this->elements = json_decode('[{"id":7,"team_id":2,"name":"Naturaleza y magia","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/2\/banners\/82xkyWKxM.jpeg","url":null,"is_active":1,"created_at":"2020-07-12T21:06:34.000000Z","updated_at":"2020-07-12T21:06:34.000000Z","deleted_at":null},{"id":6,"team_id":2,"name":"Espacio Magico","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/2\/banners\/znbpnjNoF.jpeg","url":null,"is_active":1,"created_at":"2020-07-12T20:58:02.000000Z","updated_at":"2020-07-12T21:06:16.000000Z","deleted_at":null},{"id":5,"team_id":1,"name":"Principales","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/banners\/WZcq9SZr3.jpeg","url":null,"is_active":1,"created_at":"2020-06-30T10:50:32.000000Z","updated_at":"2020-06-30T10:50:32.000000Z","deleted_at":null},{"id":4,"team_id":1,"name":"Equipo","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/banners\/4ECZkUWj2.jpeg","url":null,"is_active":1,"created_at":"2020-06-30T10:50:14.000000Z","updated_at":"2020-06-30T10:50:14.000000Z","deleted_at":null},{"id":2,"team_id":1,"name":"Estamos en Tuxtla y Tapachula","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/banners\/mm9oXkbK8.jpeg","url":null,"is_active":1,"created_at":"2020-06-20T12:39:00.000000Z","updated_at":"2020-07-08T22:00:56.000000Z","deleted_at":null}]');
        } else if ($relation=='products') {
            $this->elements = json_decode('[{"id":1,"team_id":1,"title":"\u00c9lite Life","subtitle":"Seguro de vida y ahorro","slug":"seguro-de-vida-y-ahorro-elite-life","description":"<p>Nuestra oferta de valor es el pleno conocimiento de las necesidades de protecci\u00f3n de nuestros clientes, para as\u00ed ofrecer el producto a la medida que ellos requieren. Adicionalmente somos promotores incansables del ahorro, la planeaci\u00f3n, la prevenci\u00f3n y la inversi\u00f3n.<\/p>","excerpt":"Nuestra oferta de valor es el pleno conocimiento de las necesidades de protecci\u00f3n de nuestros clientes","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/products\/W3ccy4Scl.jpeg","variable_2":null,"variable_1":"2","is_active":1,"created_at":"2020-06-22T13:54:44.000000Z","updated_at":"2020-07-06T16:56:40.000000Z","deleted_at":null},{"id":2,"team_id":1,"title":"\u00c9lite Medical","subtitle":"Seguro de gastos m\u00e9dicos mayores","slug":"seguro-de-gastos-medicos-mayores-elite-medical","description":"<p>El \u00e9xito de tener la mejor cobertura en un seguro de gastos m\u00e9dicos mayores, es el conocimiento del contrato y del funcionamiento de la p\u00f3liza al momento de la verdad. Los agentes Elite, estamos preparados para asesorar en est\u00e1 decisi\u00f3n tan importante, logrando para nuestros asegurados la mejor cobertura en sus necesidades.<\/p>","excerpt":"El \u00e9xito de tener la mejor cobertura en un seguro de gastos m\u00e9dicos mayores, es el conocimiento del contrato","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/products\/DSNMXtqtG.jpeg","variable_2":null,"variable_1":"3","is_active":1,"created_at":"2020-06-22T13:55:27.000000Z","updated_at":"2020-07-06T16:56:32.000000Z","deleted_at":null},{"id":3,"team_id":1,"title":"\u00c9lite Auto","subtitle":"Seguro de auto","slug":"seguro-de-auto-elite-auto","description":"<p>Contamos con asesores capacitados que a trav\u00e9s de un an\u00e1lisis completo de entre las mejores aseguradoras logran ofrecer la mejor opci\u00f3n costo-beneficio para su unidad o flotilla. Tenemos adem\u00e1s el servicio \u00fanico de Concierge \u00c9LITE, que brinda seguimiento a siniestros.<\/p>","excerpt":"Contamos con asesores capacitados que a trav\u00e9s de un an\u00e1lisis completo de entre las mejores aseguradoras","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/products\/lw3jYWH08.jpeg","variable_2":null,"variable_1":"4","is_active":1,"created_at":"2020-06-22T13:56:06.000000Z","updated_at":"2020-07-08T22:12:13.000000Z","deleted_at":null},{"id":4,"team_id":1,"title":"\u00c9lite Home","subtitle":"Seguro de casa habitaci\u00f3n","slug":"seguro-de-casa-habitacion-elite-home","description":"<p>Sabemos que nuestro hogar es uno de los patrimonios m\u00e1s importantes que todos tenemos, es por esto que contamos con la mejor gama de aseguradoras especializadas en riesgos de casa habitaci\u00f3n, con las mejores tarifas y beneficios ante cualquier riesgo de incendio, terremoto, robo, responsabilidad civil, etc. M\u00e1s que asegurar un bien, se trata de proteger un hogar.<\/p>","excerpt":"Sabemos que nuestro hogar es uno de los patrimonios m\u00e1s importantes que todos tenemos","image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/products\/y4ZvhabU9.jpeg","variable_2":null,"variable_1":"5","is_active":1,"created_at":"2020-06-22T13:56:27.000000Z","updated_at":"2020-07-06T16:56:12.000000Z","deleted_at":null},{"id":5,"team_id":1,"title":"\u00c9lite Business","subtitle":"Seguro de protecci\u00f3n a bienes empresariales","slug":"seguro-de-proteccion-a-bienes-empresariales-elite-business","description":"<p>Nuestra firma cuenta con el respaldo de las mejores aseguradoras en el ramo de Da\u00f1os, para proteger tu empresa de los riesgos m\u00e1s frecuentes en los negocios, teniendo la capacidad de asegurar desde una PYME, hasta industrias de presencia Nacional e Internacional. Como en todos nuestros servicios, nuestra oferta de valor integra un extenso an\u00e1lisis de riesgos y detecci\u00f3n de necesidades apremiantes en su empresa.<\/p>","excerpt":null,"image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/products\/LOA94i7QV.jpeg","variable_2":null,"variable_1":"1","is_active":1,"created_at":"2020-06-22T13:56:43.000000Z","updated_at":"2020-07-06T16:56:02.000000Z","deleted_at":null}]');
        } else if ($relation=='promotions') {
            $this->elements = json_decode('[{"id":1,"team_id":1,"title":"Obten 20% de descuento en tu seguro","subtitle":null,"slug":"1","description":"<p>Cotiza con nosotros tu seguro<\/p>","excerpt":null,"image_url":"https:\/\/lh3.googleusercontent.com\/proxy\/c4bhdCI5PgB3GH7vymjzavLtN5-FmmfRWtf9RZi4j5Sp2AgPV-bHS4LJ1ZUE7D0LdVUZ4WVyPuqtXAhcWcYDmP9-skSenexYx2lJoMr4VR-pSLNh-EsCoyMH3uX2EY5f7QbnnA","variable_2":null,"variable_1":null,"start_time":null,"end_time":null,"is_active":1,"created_at":"2020-06-20T17:40:31.000000Z","updated_at":"2020-06-20T17:40:31.000000Z","deleted_at":null},{"id":2,"team_id":1,"title":"Por esta contaminaci\u00f3n 2 x 1 en cubrebocas","subtitle":null,"slug":null,"description":"<p>Conoce las promociones con nosotros!<\/p>","excerpt":null,"image_url":"https:\/\/i2.wp.com\/yucatantoday.com\/wp-content\/uploads\/2020\/07\/Promociones-y-Descuentos.jpg?resize=1024%2C594&ssl=1","variable_2":null,"variable_1":null,"start_time":"2020-06-01 00:00:00","end_time":"2020-06-30 23:59:00","is_active":1,"created_at":"2020-06-20T17:42:38.000000Z","updated_at":"2020-06-20T17:51:49.000000Z","deleted_at":null},{"id":3,"team_id":1,"title":"Camara gratis al comprar","subtitle":null,"slug":"camara-gratis-al-comprar","description":"<p>Solo 1 unidad disponible al exigirlo en caja<\/p>","excerpt":"Solo 1 unidad disponible al exigirlo en caja","image_url":"https:\/\/directoriomerida.com\/wp-content\/uploads\/2011\/06\/Whopper-promociones-Burger-King.jpg","variable_2":null,"variable_1":null,"start_time":"2020-05-01 00:00:00","end_time":"2020-06-10 00:00:00","is_active":1,"created_at":"2020-06-20T17:43:16.000000Z","updated_at":"2020-06-26T12:31:51.000000Z","deleted_at":null}]');
        } else if ($relation=='partners') {
            $this->elements = json_decode('[{"id":2,"team_id":1,"title":"Luis Cancino","slug":"l-cancino","job":"Agente \u00c9lite","description":"<p>Originario de la ciudad de Tuxtla Guti\u00e9rrez, Chiapas. Egresado del Instituto Tecnol\u00f3gico y de Estudios Superiores de Monterrey campus Monterrey. Viniendo de una familia abocada al sector asegurador y protegiendo familias desde hace 50 a\u00f1os, incursiona a la Industria Aseguradora en el a\u00f1o 2010, ubic\u00e1ndose r\u00e1pidamente en el top de las listas de mejores asesores en seguros con GNP Seguros. Cuenta en su carrera como asesor una trayectoria impecable de reconocimientos y logros que constatan su calidad y calidez en el servicio y trato a sus asegurados, quienes son para \u00e9l, la raz\u00f3n de ser de su profesi\u00f3n. Entre los reconocimientos m\u00e1s importantes est\u00e1n el refrendar por sexto a\u00f1o consecutivo ser miembro del c\u00edrculo de CONSEJEROS en GNP Seguros, reconocimiento a la alta productividad y compromiso con los asegurados que tiene la aseguradora. Premio AMASFAC 2017, reconocimiento nunca antes recibido por un agente de seguros en Estado de Chiapas. Miembro de la Million Dollar Round Table, organizaci\u00f3n americana que solo invita a los mejores agentes de seguros de todo el mundo. Fundador de la firma Elite Brokers Agente de Seguros y de Fianzas SA de CV en 2018, y que en los resultados al cierre del mismo a\u00f1o, se logr\u00f3 el campeonato Regional en Ventas de Seguros de Personas, titulo que ha ostentado por los \u00faltimos 7 a\u00f1os.<\/p>","excerpt":null,"image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/partners\/o4Iid7tGv.jpeg","variable_2":null,"variable_1":null,"is_founder":1,"is_active":1,"created_at":"2020-06-22T16:08:10.000000Z","updated_at":"2020-07-08T22:15:51.000000Z","deleted_at":null,"subtitle":"Agente \u00c9lite"},{"id":3,"team_id":1,"title":"Fernando Santiago","slug":"f-santiago","job":"Agente \u00c9lite","description":"<p>Originario de la ciudad de San Crist\u00f3bal de las Casas, Chiapas siendo el menor de su casa, crece rodeado de un ambiente muy familiar en compa\u00f1\u00eda de sus 10 hermanos. Apasionado por la ac\u00fastica de la m\u00fasica migra a la ciudad de M\u00e9xico a estudiar Ingenier\u00eda en Audio, en la Universidad de la M\u00fasica G. Martell, alternando sus estudios con la pr\u00e1ctica de su carrera, ingresa al \u00e1mbito de m\u00fasica regional en producci\u00f3n dentro de varias empresas televisoras como TV azteca y Televisa. Todo esto fue haciendo de \u00e9l un hombre de retos, donde gracias a su energ\u00eda, dinamismo, perspicacia y carisma se introdujo en el \u00e1rea de ventas de la \u00faltima empresa donde labor\u00f3. Posteriormente se independiza como empresario y en el a\u00f1o 2016 inicia su carrera como asesor en seguros, donde ha demostrado sus habilidades, desde un inicio logrando destacar r\u00e1pidamente como un asesor confiable, capacitado, honorable y con grandes deseos de servir a sus asegurados.<\/p>","excerpt":null,"image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/partners\/RE2sUMGKq.jpeg","variable_2":null,"variable_1":null,"is_founder":0,"is_active":1,"created_at":"2020-06-22T16:09:50.000000Z","updated_at":"2020-07-08T22:15:54.000000Z","deleted_at":null,"subtitle":"Agente \u00c9lite"},{"id":4,"team_id":1,"title":"Juan Carlos Zepeda","slug":"j-carlos","job":"Agente \u00c9lite","description":"<p>Originario de la ciudad de Tuxtla Guti\u00e9rrez, Chiapas. Proveniente de una familia de seis hermanos; hijo de un importante agente de seguros, quien trabaj\u00f3 durante 25 a\u00f1os asegurando a familias chiapanecas. A corta edad demuestra su inter\u00e9s por \u00e9sta bella carrera, y decide comenzar a preparase estudiando Administraci\u00f3n de empresas en la ciudad de Puebla, concluye sus estudios en Tuxtla Guti\u00e9rrez. Comienza su vida laboral al titularse. Tuvo la oportunidad de trabajar con su padre durante un a\u00f1o de forma conjunta, antes de que el falleciera. Cuenta con una trayectoria de 20 a\u00f1os de experiencia. Su mayor satisfacci\u00f3n es poder proteger a las familias, ve su carrera como un servicio a la sociedad, en donde a trav\u00e9s de su experiencia y capacidad: asesora, sensibiliza y abre panoramas a sus asegurados, garantizando para ellos y sus familias la protecci\u00f3n y la tranquilidad que tanto buscan.<\/p>","excerpt":null,"image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/partners\/5wXhPRiKl.jpeg","variable_2":null,"variable_1":null,"is_founder":0,"is_active":1,"created_at":"2020-06-22T16:18:18.000000Z","updated_at":"2020-07-08T22:15:57.000000Z","deleted_at":null,"subtitle":"Agente \u00c9lite"},{"id":6,"team_id":1,"title":"Wilber Sanchez","slug":"wilber-sanchez","job":"Agente \u00c9lite","description":"<p>Oriundo de la ciudad de Tuxtla Guti\u00e9rrez, Chiapas, es el mayor de tres hermanos, siempre responsable e interesado en ser un ejemplo para sus hermanos, se destac\u00f3 en el deporte desde corta edad, siendo seleccionado del equipo de Voleibol a nivel estatal, durante parte de su secundaria y preparatoria. Despu\u00e9s de esta etapa en su vida, encuentra otro deporte que se convierte en su pasi\u00f3n, el Boxeo Tailand\u00e9s; del a\u00f1o 2009 al 2017, se dedica de manera profesional a entrenar, enfrentando a otros peleadores y poniendo a prueba su temple y fortaleza. Al mismo tiempo, estudia la carrera de Ingeniero Bioqu\u00edmico con Especialidad en Alimentos en el Instituto Tecnol\u00f3gico de M\u00e9xico en el Campus Tuxtla Guti\u00e9rrez. &nbsp;<\/p><p>En el a\u00f1o 2016 se grad\u00faa, habiendo realizado su residencia en San Crist\u00f3bal de las Casas, Chiapas en la empresa de Coca Cola FEMSA, la cual, posteriormente decide contratarlo. Participa en varios proyectos y obtiene la certificaci\u00f3n como penalista sensorial y Microbi\u00f3logo por \u201cThe Coca Cola Company\u201d; despu\u00e9s de muchos esfuerzos y un gran compromiso se convierte en l\u00edder de l\u00edneas, laborando para esta empresa dos a\u00f1os, del a\u00f1o 2016 al 2018. En el a\u00f1o 2019, el director de la firma \u00c9lite Brokers, le invita a sumarse como Gerente de Negocios, en el \u00e1rea de ventas, y de esta forma irse adentrando en esta \u00e1rea, que dicho sea de paso siempre le hab\u00eda gustado. En \u00e9se mismo a\u00f1o comienza su preparaci\u00f3n para convertirse en un Agente \u00c9lite y lo consigue.&nbsp;<\/p><p>Al a\u00f1o siguiente, en \u00e9l 2020, se convierte en el l\u00edder de la plaza de Tapachula, donde radica actualmente. Para \u00e9l, ser agente de seguros representa una enorme responsabilidad y una gran satisfacci\u00f3n, ya que a trav\u00e9s de \u00e9sta hermosa profesi\u00f3n puede ayudar a las personas a proteger a los que m\u00e1s aman en esta vida.<span>&nbsp;<\/span><\/p>","excerpt":null,"image_url":"https:\/\/tiuswebs.s3-us-west-1.amazonaws.com\/1\/partners\/YLImIc3UA.jpeg","variable_2":null,"variable_1":null,"is_founder":0,"is_active":1,"created_at":"2020-06-22T16:35:14.000000Z","updated_at":"2020-07-08T22:16:03.000000Z","deleted_at":null,"subtitle":"Agente \u00c9lite"}]');
        }
    }

    public function baseFields()
    {
    	return [
    		Select::make('Show')->default($this->showDefault())->options($this->showOptions()),
	        Select::make('Sort')->default('latest')->options(['latest' => __('Latest'), 'oldest' => __('Oldest')]),
	        Number::make('Limit of results', 'limit')->default(10),
    	];
	    	
    }

    private function showOptions()
    {
        $options = [
            'partners' => __('Partners'), 
            'promotions' => __('Promotions'), 
            'products' => __('Products'),
            'banners' => __('Banners'), 
        ];
        if($this->contents) {
            $options['contents'] = __('Content');
        }
        return $options;
    }

    private function showDefault()
    {
        if(isset($this->default_result)) {
            return $this->default_result;
        }
        if($this->contents) {
            return 'contents';
        }
        return 'products';
    }
}